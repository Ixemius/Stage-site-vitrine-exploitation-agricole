import express from "express";

const router = express.Router();

//import des controllers

import { homePageController } from "../controllers/HomePageController.js";
import { productsController } from "../controllers/ProductsController.js";

import {
    loginController,
    registerController,
    loginPostController,
    registerPostController
} from "../controllers/LoginController.js";


//routes
router.get('/', homePageController);
router.get('/products', productsController);

router.get('/login', loginController );
router.get('/register', registerController );
router.get('/logout', (req, res) => {
    req.session.destroy();
    res.redirect('/');
});

router.post('/login', loginPostController );
router.post('/register', registerPostController );


router.all('/*', (req, res) => {
    res.status(404).send('notFound');
});

export default router;